"use strict";!function(){var d,e,f,g,h,i,a=window,b=a.document,c=a.XMLHttpRequest;return a.performance&&a.performance.getEntriesByType?(String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b}),d=function(){function a(){return(0|65536*(1+Math.random())).toString(16).substring(1)}return a()+"-"+a()+a()+(new Date).getTime()},e=function(){return document.addEventListener?function(a,b,c){if(a.length)for(var d=0;d<a.length;d++)e(a[d],b,c);else a.addEventListener(b,c,!1)}:function(a,b,c){if(a.length)for(var d=0;d<a.length;d++)e(a[d],b,c);else a.attachEvent("on"+b,function(){return c.call(a,window.event)})}}(),f=a.Statis={host:"localhost:3000",hash:!0,rspath:"pf",pvpath:"pv",option:{key:xxx,pvid:d(),title:b.title,charset:b.characterSet,url:b.URL,referrer:b.referrer,self:a.top&&a.self&&a.top===a.self?0:1,av:navigator.appVersion,ua:navigator.userAgent,cw:a.screen&&a.screen.height||0,ch:a.screen&&a.screen.width||0},xhr:[],rs:[]},g={canPerforramce:function(){return"performance"in a&&"getEntriesByType"in a.performance&&a.performance.getEntriesByType("resource")instanceof Array?!0:!1},encodeURIComponent:function(b){return a.encodeURIComponent?a.encodeURIComponent(b):b},clearResourceTimings:function(){var a="function"==typeof performance.clearResourceTimings;a&&performance.clearResourceTimings()},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},clone:function(a,b){var d,e,c=new Object;for(d in a)c[d]=a[d];for(e in b)c[e]=b[e];return c},extend:function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},getTypeof:function(a){return Object.prototype.toString.call(a)},XHR:function(){var a,c,d,e;try{a=new XMLHttpRequest}catch(b){for(c=["Msxml3.XMLHTTP","Msxml2.XMLHTTP","Microsoft.XMLHTTP"],d=0,e=c.length;e>d;d++)try{a=new ActiveXObject(c[d])}catch(b){continue}}return a},attachEvent:function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,d):a.attachEvent?a.attachEvent("on"+b,c):!1},toStr:function(a){var c,b=[];for(c in a)b.push(c+"="+a[c]);return b.join("&")},mkurl:function(b,c,d){var e=/^https/i.test(a.URL)?"https":"http";return d.hf=location.href,e+="://"+b+"/"+c+"?"+this.toStr(d)},GET:function(c,d){function f(){d&&d.apply(this,arguments),g.parentNode&&g.parentNode.removeChild(g)}if(a.navigator&&a.navigator.sendBeacon&&c.startsWith("http"))return a.navigator.sendBeacon(c,null);var g=b.createElement("img");g.setAttribute("src",c),g.style.display="none",e(g,"readystatechange",function(){("loaded"==g.readyState||4==g.readyState)&&f("loaded")},!1),e(g,"load",function(){return f("load"),!0},!1),e(g,"error",function(){return f("error"),!0},!1),b.body.appendChild(g)},POST:function(b,d,e,f){var g,h,i,k;if(navigator&&navigator.sendBeacon&&b.startsWith("http"))return g=navigator.sendBeacon(b,d);if(h=null,i=a.XDomainRequest)return h=new i,h.open("POST",b),h.onload=function(){f(null,h.responseText)},h.onerror=function(){f("POST("+b+")error")},h.send(d),!0;if(!c)return!1;h=new c,h.onreadystatechange=function(){4==h.readyState&&200==h.status&&f&&f(null,h.responseText)},h.onerror=function(){f("POST("+b+")error")};try{h.open("POST",b,!0)}catch(j){}for(k in e)h.setRequestHeader&&h.setRequestHeader(k,e[k]);return h.getAllResponseHeaders(),h.send(d),!0},logInfo:function(a,b,c,d){b&&"[object String]"===g.getTypeof(b)?this.POST(a,b,c,d):"[object Function]"===g.getTypeof(b)&&(d=b,this.GET(a,d))}},a.onerror=function(b,c,d,e,h){return"Script error."==b||c?(setTimeout(function(){var j,k,l,i={};if(e=e||a.event&&a.event.errorCharacter||0,i.ua=a.navigator.userAgent,i.message=b,i.url=c,i.line=d,i.page=a.location.href,h&&h.stack)i.stack=h.stack.toString();else if(arguments.callee){for(j=[],k=arguments.callee.caller,l=3;k&&--l>0&&(j.push(k.toString()),k!==k.caller);)k=k.caller;j=j.join(","),i.stack=j}g.logInfo(g.mkurl(f.host,f.rspath,f.option),JSON.stringify(g.clone({er:[i]},f.option)),{},function(){})},0),!1):void 0},h=function(){var b,c,d,e,h,i,j;if(g.canPerforramce){if(b=a.performance.getEntriesByType("resource"),!b.length&&!f.xhr.length)return!1;if(1==b.length&&b[0].name&&-1!=b[0].name.indexOf(f.host+"/"+f.rspath))return g.clearResourceTimings(),!1;for(c=0;c<b.length;c++)if(d=b[c],e={},!d.name||-1==d.name.indexOf(f.host+"/"+f.rspath)&&-1==d.name.indexOf(f.host+"/"+f.pvpath)){for(h in d)"function"!=typeof d[h]&&(e[h]=d[h]);f.rs.push(e)}if(!f.rs.length&&!f.xhr.length)return!1;i={},f.rs.length&&(i.rs=f.rs),f.xhr.length&&(i.xhr=f.xhr),g.logInfo(g.mkurl(f.host,f.rspath,f.option),JSON.stringify(g.clone(i,f.option)),{},function(){})}else f.xhr.length&&(j={xhr:f.xhr},g.logInfo(g.mkurl(f.host,f.rspath,f.option),JSON.stringify(g.clone(j,f.option)),{},function(){}));g.clearResourceTimings(),f.xhr=[],f.rs=[]},i=function(){if(g.canPerforramce){var b=a.performance.timing;g.logInfo(g.mkurl(f.host,f.rspath,f.option),JSON.stringify(g.clone({pt:[b]},f.option)),{},function(){})}},e(a,"unload",h),g.canPerforramce&&(e(a,"load",function(){setTimeout(function(){i()},0)}),f.hash&&e(a,"hashchange",function(){f.option.pvid=d(),g.logInfo(g.mkurl(f.host,f.rspath,f.option),JSON.stringify(f.option),{},function(){})})),function(){function c(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}return"function"==typeof a.CustomEvent?!1:(c.prototype=a.Event.prototype,a.CustomEvent=c,void 0)}(),function(){function b(b){var c=new CustomEvent(b,{detail:this});a.dispatchEvent(c)}function d(){var a=new c;return a.addEventListener("abort",function(){b.call(this,"ajaxAbort")},!1),a.addEventListener("error",function(){b.call(this,"ajaxError")},!1),a.addEventListener("load",function(){b.call(this,"ajaxLoad")},!1),a.addEventListener("loadstart",function(){b.call(this,"ajaxLoadStart")},!1),a.addEventListener("progress",function(){b.call(this,"ajaxProgress")},!1),a.addEventListener("timeout",function(){b.call(this,"ajaxTimeout")},!1),a.addEventListener("loadend",function(){b.call(this,"ajaxLoadEnd")},!1),a.addEventListener("readystatechange",function(){b.call(this,"ajaxReadyStateChange")},!1),a}var c=a.XMLHttpRequest;a.XMLHttpRequest=d,a.addEventListener("ajaxReadyStateChange",function(a){var c,d,e,h,i,j,b=a.detail;if(4==b.readyState&&200!=b.status){for(c={status:b.status,responseURL:b.responseURL,statusText:b.statusText,timeout:b.timeout},d=b.getAllResponseHeaders(),e=d.split(/\n/),h={},i=0;i<e.length;i++)j=e[i].split(":"),j[0]&&j[1]&&(h[j[0]]=g.trim(j[1]));c=g.clone(c,h),f.xhr.push(c)}},!1)}(),setInterval(function(){h()},3e3),void 0):(console.info("your browser needs to upgrade!"),!1)}();